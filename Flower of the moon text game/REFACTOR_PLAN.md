# План рефакторинга архитектуры проекта

## Архитектурные требования
- Domain-driven design (DDD)
- Data-driven design
- Data-oriented design

---

## Этапы и статус

### 1. Создание структуры директорий
- [x] `domain/` — доменные сущности и менеджеры
- [x] `data/` — слой загрузки данных
- [x] `engine/` — игровой движок
- [ ] `ui/` — пользовательский интерфейс (пока не используется)

### 2. Доменные сущности и менеджеры
- [x] Player (структура, методы)
- [x] Monster
- [x] Item
- [x] Spell
- [x] Book
- [x] Action
- [x] ItemManager
- [x] MonsterManager
- [x] SpellManager
- [x] BookManager
- [x] ActionManager

### 3. DataLoader (слой загрузки данных)
- [x] Загрузка предметов
- [x] Загрузка монстров
- [x] Загрузка заклинаний
- [x] Загрузка книг
- [x] Загрузка подготовительных действий
- [x] Загрузка игрока

### 4. GameEngine (игровой движок)
- [x] Инициализация менеджеров и игрока через DataLoader
- [x] preparationPhase (фаза подготовки)
- [x] battlePhase (фаза боя)
- [x] showFinalStats (вывод финальных характеристик игрока)
- [ ] Полная интеграция всех игровых механик (эффекты предметов, сложные статы, победа/поражение)

### 5. main
- [x] Делегирование управления GameEngine

### 6. Тестирование и совместимость
- [ ] Проверка прохождения всех тестов
- [ ] Проверка сохранения функциональности

---

## Примечания
- [ ] Возможна доработка: более сложная обработка эффектов, расширение UI, оптимизация под data-oriented подход.
- [ ] После завершения основных этапов — провести рефакторинг и оптимизацию кода. 